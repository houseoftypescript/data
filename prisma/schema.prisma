datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Congress {
  congress Int
  chamber  Chamber
  title    Title
  member   Member  @relation(fields: [memberId], references: [id])
  memberId String

  @@id([congress, memberId])
}

enum Title {
  REPRESENTATIVE
  SENATOR
  DELEGATE
  RESIDENT_COMMISSIONER
}

enum Chamber {
  HOUSE
  SENATE
}

model Member {
  id          String     @id
  firstName   String
  middleName  String
  lastName    String
  dateOfBirth String
  gender      Gender
  state       State      @relation(fields: [stateId], references: [id])
  stateId     String
  party       Party
  Congress    Congress[]
}

enum Gender {
  MALE
  FEMALE
}

enum Party {
  DEMOCRATIC
  REPUBLICAN
  INDEPENDENT
}

model State {
  id      String     @id
  name    String
  capital String
  largest String
  level   StateLevel
  Member  Member[]
}

enum StateLevel {
  STATE
  TERRITORY
  FEDERAL_DISTRICT
}
